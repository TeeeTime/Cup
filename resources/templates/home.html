<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/home.css">
</head>
<body>
    <nav class="top-nav">
        <div class="nav-left">
            <h1 class="brand-logo">Teaz.fun</h1>
        </div>
        
        <div class="nav-right">
            <div class="profile-dropdown">
                <div class="profile-trigger">
                    <img th:src="${avatar}" class="nav-avatar">
                    <span class="nav-username" th:text="${username}">Username</span>
                    <span class="arrow">‚ñº</span>
                </div>
                
                <div class="dropdown-content">
                    <a href="/settings" class="dropdown-item">Settings</a>
                    
                    <form action="/logout" method="post">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                        <button type="submit" class="dropdown-item logout-btn">Logout</button>
                    </form>
                </div>
            </div>
        </div>
    </nav>

    <div class="dashboard-container">
        
        <div class="card balance-card">
            <div class="card-header">
                <h3>Total Balance</h3>
			</div>
            <div class="balance-display">
                <span class="currency-symbol">$</span>
                <span class="balance-amount" th:text="${balance}">0</span>
            </div>
            <div class="graph-placeholder">
                <div class="wave-line"></div>
            </div>
        </div>

        <div class="card daily-card">
            <h3>Daily Reward</h3>
            <p class="subtext">Claim your free coins!</p>
            <div class="daily-progress">
                <div class="day-circle claimed">M</div>
                <div class="day-circle claimed">T</div>
                <div class="day-circle active">W</div>
                <div class="day-circle">T</div>
                <div class="day-circle">F</div>
            </div>
            <button class="btn-login" style="width: 100%; margin-top: 15px;">Claim Bonus</button>
        </div>
		
		<div class="card leaderboard-card">
        	<h3>üèÜ Leaderboard</h3>
        
        	<div class="leaderboard-list">
    			<div class="lb-item" th:each="player : ${leaderboard}">
        			<span class="lb-rank" th:text="'#' + ${player.rank}" th:style="${player.rank == 1} ? 'color: gold;' : ''">
            			#1
        			</span>

        			<img th:src="${player.avatarUrl}" class="lb-avatar">

        			<div class="lb-info">
            			<span class="lb-name" th:text="${player.name}">Username</span>
            			<span class="lb-score" th:text="'$' + ${#numbers.formatInteger(player.balance, 1, 'COMMA')}">
                			$0
            			</span>
        			</div>
    			</div>
    			<div th:if="${leaderboard.empty}" style="padding:10px; color:#999;">
        			No players found yet.
    			</div>
			</div>
   	 	</div>
		
        <div class="card games-card">
            <h3>Minigames</h3>
            <div class="game-list">
                
                <div class="game-item">
                    <div class="game-icon">üé∞</div> <div class="game-info">
                        <h4>Slots</h4>
                        <span>Win big!</span>
                    </div>
                    <a href="/games/slots" class="btn-login">Play</a>
                </div>

                <div class="game-item">
                    <div class="game-icon">üÉè</div>
                    <div class="game-info">
                        <h4>Blackjack</h4>
                        <span>Double down</span>
                    </div>
                    <a href="/games/blackjack" class="btn-login">Play</a>
                </div>

                 <div class="game-item">
                    <div class="game-icon">üèéÔ∏è</div>
                    <div class="game-info">
                        <h4>Race</h4>
                        <span>PvP Betting</span>
                    </div>
                    <a href="/games/race" class="btn-login">Play</a>
                </div>

            </div>
        </div>
    </div>
</body>
</html>